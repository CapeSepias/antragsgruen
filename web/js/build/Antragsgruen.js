!function(e){const t=e("#antragsgruenScript");let n=requirejs.config({baseUrl:t.data("resource-base")+"js/build/"});e("[data-antragsgruen-load-class]").each((function(){let t=e(this).data("antragsgruen-load-class");n([t])})),e("[data-antragsgruen-widget]").each((function(){let t=e(this),a=t.data("antragsgruen-widget");n([a],(function(e){let n=a.split("/");new e[n[n.length-1]](t)}))})),e(".jsProtectionHint").each((function(){let t=e(this);e('<input type="hidden" name="jsprotection">').attr("value",t.data("value")).appendTo(t.parent()),t.remove()})),bootbox.setLocale(e("html").attr("lang").split("_")[0]),e(document).on("click",".amendmentAjaxTooltip",(function(t){let n=e(t.currentTarget);if("0"==n.data("initialized")){n.data("initialized","1");let t="popover popover-amendment-ajax "+n.data("tooltip-extra-class"),a="right";n.data("placement")&&(a=n.data("placement")),n.popover({html:!0,trigger:"manual",container:"body",template:'<div class="'+t+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',placement:a,content:function(){let t="pop_"+(new Date).getTime(),a='<div id="'+t+'">Loading...</div>',o=n.data("url");return e.get(o,(function(n){e("#"+t).html(n)})),a}})}e(".amendmentAjaxTooltip").not(n).popover("hide"),e(".ajaxAmendment").parents(".popover").remove(),n.popover("toggle")})),e(document).on("click",(function(t){let n=e(t.target);n.hasClass("amendmentAjaxTooltip")||n.hasClass("popover")||0!=n.parents(".amendmentAjaxTooltip").length||0!=n.parents(".popover").length||(e(".amendmentAjaxTooltip").popover("hide"),e(".ajaxAmendment").parents(".popover").remove())})),e(document).on("click",".pseudoLink",(t=>{window.location.href=e(t.currentTarget).data("href")})),document.body.addEventListener("mousedown",(()=>{document.body.classList.add("usingMouse")})),document.body.addEventListener("keydown",(()=>{document.body.classList.remove("usingMouse")}));const a=(t,n)=>{const o=".",i=""===n||n[n.length-1]===o?n:n+o;let d="0.";t.find("> li.agendaItem").each((function(){let t,s=e(this),l=s.find("> ol");if(s.hasClass("agendaItemDate"))t=n;else{const e=s.data("code");if("#"==e){let e=d.split(o);if(e[0].match(/^[a-y]$/i))e[0]=String.fromCharCode(e[0].charCodeAt(0)+1);else{let t=e[0].match(/^(.*[^0-9])?([0-9]*)$/),n=void 0===t[1]?"":t[1],a=parseInt(""==t[2]?"1":t[2]);e[0]=n+ ++a}d=t=e.join(o)}else t=d=(e+"").trim();""!==t&&(t=i+t),s.find("> div > h3 .code").text(t)}l.length>0&&a(l,t)}))};e("ol.motionListWithinAgenda").on("antragsgruen:agenda-change",(function(){a(e(this),"")})).trigger("antragsgruen:agenda-change"),e(".motionList .amendmentsToggler").each(((t,n)=>{const a=e(n);a.find("button").on("click",(()=>{a.toggleClass("closed"),a.toggleClass("opened"),a.next("ul.amendments").toggleClass("closed")}))})),window.__t=function(e,t){return"undefined"==typeof ANTRAGSGRUEN_STRINGS?"@TRANSLATION STRINGS NOT LOADED":void 0===ANTRAGSGRUEN_STRINGS[e]?"@UNKNOWN CATEGORY: "+e:void 0===ANTRAGSGRUEN_STRINGS[e][t]?"@UNKNOWN STRING: "+e+" / "+t:ANTRAGSGRUEN_STRINGS[e][t]}}(jQuery);
//# sourceMappingURL=Antragsgruen.js.map
