define(["require","exports","./live/Client.js"],function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e("[data-antragsgruen-load-class]").each(function(){var t=e(this).data("antragsgruen-load-class");requirejs([t])}),e("[data-antragsgruen-widget]").each(function(){var t=e(this),a=t.data("antragsgruen-widget");requirejs([a],function(e){var n=a.split("/");new e[n[n.length-1]](t)})}),e(".jsProtectionHint").each(function(){var t=e(this);e('<input type="hidden" name="jsprotection">').attr("value",t.data("value")).appendTo(t.parent()),t.remove()}),bootbox.setLocale(e("html").attr("lang").split("_")[0]),e(document).on("click",".amendmentAjaxTooltip",function(t){var a=e(t.currentTarget);if("0"==a.data("initialized")){a.data("initialized","1");var n="popover popover-amendment-ajax "+a.data("tooltip-extra-class"),o="right";a.data("placement")&&(o=a.data("placement")),a.popover({html:!0,trigger:"manual",container:"body",template:'<div class="'+n+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',placement:o,content:function(){var t="pop_"+(new Date).getTime(),n='<div id="'+t+'">Loading...</div>',o=a.data("url");return e.get(o,function(a){e("#"+t).html(a)}),n}})}e(".amendmentAjaxTooltip").not(a).popover("hide"),e(".ajaxAmendment").parents(".popover").remove(),a.popover("toggle")}),e(document).on("click",function(t){var a=e(t.target);a.hasClass("amendmentAjaxTooltip")||a.hasClass("popover")||0!=a.parents(".amendmentAjaxTooltip").length||0!=a.parents(".popover").length||(e(".amendmentAjaxTooltip").popover("hide"),e(".ajaxAmendment").parents(".popover").remove())});var t=function(a){var n="0.";a.find("> li.agendaItem").each(function(){var a=e(this),o=a.data("code"),i="",r=a.find("> ol");if("#"==o){var d=n.split(".");if(d[0].match(/^[a-y]$/i))d[0]=String.fromCharCode(d[0].charCodeAt(0)+1);else{var l=d[0].match(/^(.*[^0-9])?([0-9]*)$/),p=void 0===l[1]?"":l[1],s=parseInt(""==l[2]?"1":l[2]);d[0]=p+ ++s}n=i=d.join(".")}else i=n=o+"";a.find("> div > h3 .code").text(i),r.length>0&&t(r)})};e("ol.motionListWithinAgenda").on("antragsgruen:agenda-change",function(){t(e(this))}).trigger("antragsgruen:agenda-change"),window.__t=function(e,t){return"undefined"==typeof ANTRAGSGRUEN_STRINGS?"@TRANSLATION STRINGS NOT LOADED":void 0===ANTRAGSGRUEN_STRINGS[e]?"@UNKNOWN CATEGORY: "+e:void 0===ANTRAGSGRUEN_STRINGS[e][t]?"@UNKNOWN STRING: "+e+" / "+t:ANTRAGSGRUEN_STRINGS[e][t]},window.liveclient=a.Client.getInstance()}(jQuery)});
//# sourceMappingURL=Antragsgruen.js.map
