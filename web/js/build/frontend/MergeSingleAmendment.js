define(["require","exports","../shared/AntragsgruenEditor"],function(e,i,o){"use strict";var t=function(){function e(){var e=this;this.$form=$("#amendmentMergeForm"),this.$collissionHolder=$(".amendmentCollissionsHolder"),$(".checkAmendmentCollissions").click(function(i){i.preventDefault(),e.loadCollissions()}),$(".affectedParagraphs .paragraph").each(function(){var e=$(this);e.find(".modifySelector input").change(function(){"1"==e.find(".modifySelector input:checked").val()?e.addClass("modified").removeClass("unmodified"):e.removeClass("modified").addClass("unmodified")})}),$(".affectedBlock > .texteditor").each(function(){new o.AntragsgruenEditor($(this).attr("id"))})}return e.prototype.loadCollissions=function(){var e=$(".checkAmendmentCollissions").data("url"),i=[];$("#motionTextEditHolder").children().each(function(){var e=$(this);if(e.hasClass("wysiwyg-textarea")){var o=e.attr("id").replace("section_holder_","");i[o]=CKEDITOR.instances[e.find(".texteditor").attr("id")].getData()}}),$.post(e,{newSections:i,_csrf:this.$form.find("> input[name=_csrf]").val()},this.collissionsLoaded.bind(this))},e.prototype.collissionsLoaded=function(e){console.log(e),this.$collissionHolder.html(e);var i=this.$collissionHolder.find(".amendmentOverrideBlock > .texteditor");i.length>0&&(i.each(function(e,i){new o.AntragsgruenEditor($(i).attr("id"))}),$(".amendmentCollissionsHolder").scrollintoview({top_offset:-50})),$(".checkAmendmentCollissions").hide(),$(".saveholder .save").prop("disabled",!1).show()},e}();new t});
//# sourceMappingURL=MergeSingleAmendment.js.map
