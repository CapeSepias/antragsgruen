{"version":3,"sources":["frontend/MergeInit.ts"],"names":["MergeInit","$widget","this","initExportBtn","prototype","recalcExportBtn","ids","find","each","idx","el","push","parseInt","getAttribute","split","link","exportLinkTpl","replace","join","attr","console","log","_this","on","exports"],"mappings":"yGAAA,IAAAA,EAAA,WAGI,SAAAA,EAAoBC,GAAAC,KAAAD,QAAAA,EAChBC,KAAKC,gBAuBb,OApBYH,EAAAI,UAAAC,gBAAR,WACI,IAAIC,KACJJ,KAAKD,QAAQM,KAAK,mDAAmDC,KAAK,SAACC,EAAKC,GAC5EJ,EAAIK,KAAKC,SAASF,EAAGG,aAAa,QAAQC,MAAM,KAAK,OAEzD,IAAIC,EAAOb,KAAKc,cAAcC,QAAQ,MAAOX,EAAIY,KAAK,MACtDhB,KAAKD,QAAQM,KAAK,mBAAmBY,KAAK,OAAQJ,GAClDK,QAAQC,IAAIf,IAGRN,EAAAI,UAAAD,cAAR,WAAA,IAAAmB,EAAApB,KACIA,KAAKc,cAAgBd,KAAKD,QAAQM,KAAK,mBAAmBY,KAAK,QAC/DC,QAAQC,IAAInB,KAAKc,eAEjBd,KAAKD,QAAQsB,GAAG,SAAU,0CAA2C,WACjEH,QAAQC,IAAI,WACZC,EAAKjB,oBAETH,KAAKG,mBAEbL,EA3BA,GAAawB,EAAAxB,UAAAA","file":"MergeInit.js","sourcesContent":["export class MergeInit {\n    private exportLinkTpl: string;\n\n    constructor(private $widget: JQuery) {\n        this.initExportBtn();\n    }\n\n    private recalcExportBtn() {\n        let ids = [];\n        this.$widget.find('.toMergeAmendments input[type=checkbox]:checked').each((idx, el: Element) => {\n            ids.push(parseInt(el.getAttribute('name').split('[')[1]));\n        });\n        let link = this.exportLinkTpl.replace(/IDS/, ids.join(','));\n        this.$widget.find('.exportHolder a').attr('href', link);\n        console.log(ids);\n    }\n\n    private initExportBtn() {\n        this.exportLinkTpl = this.$widget.find('.exportHolder a').attr('href');\n        console.log(this.exportLinkTpl);\n\n        this.$widget.on('change', '.toMergeAmendments input[type=checkbox]', () => {\n            console.log('changed');\n            this.recalcExportBtn();\n        });\n        this.recalcExportBtn();\n    }\n}\n"]}