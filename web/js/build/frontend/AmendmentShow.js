define(["require","exports","../shared/MotionInitiatorShow"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new class{constructor(){new MotionInitiatorShow,$("form.delLink").on("submit",this.delSubmit.bind(this)),$(".share_buttons a").on("click",this.shareLinkClicked.bind(this));let e=location.hash.split("#comm");2==e.length&&$("#comment"+e[1]).scrollintoview({top_offset:-100}),this.initPrivateComments(),this.initCmdEnterSubmit(),this.initAmendmentTextMode()}delSubmit(e){e.preventDefault();let t=e.target;bootbox.confirm(__t("std","del_confirm"),(function(e){e&&t.submit()}))}shareLinkClicked(e){let t=$(e.currentTarget).attr("href");window.open(t,"_blank","width=600,height=460")&&e.preventDefault()}initCmdEnterSubmit(){$(document).on("keypress","form textarea",(e=>{if(e.originalEvent.metaKey&&13===e.originalEvent.keyCode){$(e.currentTarget).parents("form").first().find("button[type=submit]").trigger("click")}}))}initPrivateComments(){$(".privateNoteOpener button").on("click",(e=>{e.preventDefault(),$(".privateNoteOpener").remove(),$(".motionData .privateNotes").removeClass("hidden"),$(".motionData .privateNotes textarea").trigger("focus")})),$(".privateNotes blockquote").on("click",(()=>{$(".privateNotes blockquote").addClass("hidden"),$(".privateNotes form").removeClass("hidden"),$(".privateNotes textarea").trigger("focus")}))}initAmendmentTextMode(){$(".amendmentTextModeSelector a.showOnlyChanges").on("click",(e=>{const t=$(e.target).parents(".motionTextHolder");t.find(".amendmentTextModeSelector .showOnlyChanges").parent().addClass("selected"),t.find(".amendmentTextModeSelector .showFullText").parent().removeClass("selected"),t.find(".fullMotionText").addClass("hidden"),t.find(".onlyChangedText").removeClass("hidden"),e.preventDefault()})),$(".amendmentTextModeSelector a.showFullText").on("click",(e=>{const t=$(e.target).parents(".motionTextHolder");t.find(".amendmentTextModeSelector .showOnlyChanges").parent().removeClass("selected"),t.find(".amendmentTextModeSelector .showFullText").parent().addClass("selected"),t.find(".fullMotionText").removeClass("hidden"),t.find(".onlyChangedText").addClass("hidden"),e.preventDefault()}))}}}));
//# sourceMappingURL=AmendmentShow.js.map
