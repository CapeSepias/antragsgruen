define(["require","exports","../shared/DraftSavingEngine","../shared/AntragsgruenEditor"],function(t,n,i,e){"use strict";var a=function(){function t(t){this.$form=t,$(".input-group.date").datetimepicker({locale:$("body").attr("lang"),format:"L"}),$(".wysiwyg-textarea").each(this.initWysiwyg.bind(this)),$(".form-group.plain-text").each(this.initPlainTextFormGroup.bind(this));var n=$("#draftHint"),e=n.data("motion-type"),a=n.data("motion-id");new i.DraftSavingEngine(t,n,"motion_"+e+"_"+a)}return t.prototype.initWysiwyg=function(t,n){var i=$(n),a=i.find(".texteditor"),r=new e.AntragsgruenEditor(a.attr("id"));a.parents("form").submit(function(){a.parent().find("textarea").val(r.getEditor().getData())})},t.prototype.initPlainTextFormGroup=function(t,n){var i=$(n),e=i.find("input.form-control");if(0!=i.data("max-len")){var a=i.data("max-len"),r=!1,o=i.find(".maxLenTooLong"),d=i.parents("form").first().find("button[type=submit]"),s=i.find(".maxLenHint .counter");a<0&&(r=!0,a*=-1),e.on("keyup change",function(){var t=e.val().length;s.text(t),t>a?(o.removeClass("hidden"),r||d.prop("disabled",!0)):(o.addClass("hidden"),r||d.prop("disabled",!1))}).trigger("change")}},t}();new a($("#motionEditForm"))});
//# sourceMappingURL=MotionEditForm.js.map
