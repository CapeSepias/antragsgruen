define(["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.$form=t,this.$textSaver=t.find(".textSaver"),this.$textHolder=t.find(".textHolder"),this.$editCaller=t.find(".editCaller"),this.$editCaller.click(this.editCalled.bind(this)),this.$textSaver.addClass("hidden"),this.$textSaver.find("button").click(this.save.bind(this))}return t.prototype.editCalled=function(t){var e=this;t.preventDefault(),this.$editCaller.addClass("hidden"),this.$textHolder.attr("contenteditable","true"),this.editor=CKEDITOR.inline(this.$textHolder.attr("id"),{scayt_sLang:"de_DE",removePlugins:"lite,showbloks,about,selectall,forms",extraPlugins:"uploadimage",uploadUrl:this.$form.data("upload-url"),filebrowserBrowseUrl:this.$form.data("image-browse-url"),toolbarGroups:[{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"colors"},{name:"links"},{name:"insert"},{name:"others"},{name:"tools"},"/",{name:"styles"},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]}]}),this.editor.on("fileUploadRequest",function(t){t.data.requestData._csrf=e.$form.find("> input[name=_csrf]").val()}),this.$textHolder.focus(),this.$textSaver.removeClass("hidden")},t.prototype.save=function(t){var e=this;t.preventDefault(),$.post(this.$form.attr("action"),{data:this.editor.getData(),_csrf:this.$form.find("> input[name=_csrf]").val()},function(t){"1"==t?(window.setTimeout(function(){e.editor.destroy()},100),e.$textSaver.addClass("hidden"),e.$textHolder.attr("contenteditable","false"),e.$editCaller.removeClass("hidden")):alert("Something went wrong...")})},t}();e.ContentPageEdit=i});
//# sourceMappingURL=ContentPageEdit.js.map
