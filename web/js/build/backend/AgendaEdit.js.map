{"version":3,"sources":["backend/AgendaEdit.ts"],"names":["AgendaEdit","$widget","_this","this","hasChanged","delAgendaItemStr","$agendaform","$","$agenda","locale","attr","addClass","nestedSortable","handle","items","toleranceElement","placeholder","tolerance","forcePlaceholderSize","helper","axis","update","showSaver","trigger","find","each","i","el","prepareAgendaItem","prepareAgendaList","on","agendaItemAdd","bind","agendaDateAdd","showTimesChanges","delAgendaItem","editAgendaItem","submitSingleItemForm","submitCompleteForm","prototype","buildAgendaStruct","$ol","children","$li","id","split","length","date","val","push","type","moment","format","title","$form","time","prop","code","motionTypeId","inProposedProcedures","submitDateItemForm","ev","preventDefault","target","parents","first","newTitle","newDate","fullString","removeClass","text","$parentLi","position","prevAll","parentId","data","saveUrl","saveData","hasClass","datetimepicker","parseInt","post","_csrf","JSON","stringify","ret","$newItem","replaceWith","alert","window","off","onLeavePage","$this","bootbox","confirm","__t","result","remove","$newElement","before","$item","prepend","append","stopPropagation","preDate","defaultDate","$list","full","str","$el","exports"],"mappings":"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","file":"AgendaEdit.js","sourcesContent":["/// <reference path=\"../typings/nestedSortable/index.d.ts\" />\n\ndeclare let moment: any;\n\nexport class AgendaEdit {\n    private hasChanged: boolean = false;\n    private $agendaform: JQuery;\n    private readonly $agenda: JQuery;\n    private readonly locale: string;\n\n    private delAgendaItemStr = '<a href=\"#\" class=\"delAgendaItem\"><span class=\"glyphicon glyphicon-minus-sign\"></span></a>';\n\n    constructor(private $widget: JQuery) {\n        this.$agendaform = $('#agendaEditSavingHolder');\n        this.$agenda = $('.motionListWithinAgenda');\n        this.locale = $(\"html\").attr('lang');\n\n        this.$agenda.addClass('agendaListEditing');\n        this.$agenda.nestedSortable({\n            handle: '.moveHandle',\n            items: 'li.agendaItem',\n            toleranceElement: '> div',\n            placeholder: 'movePlaceholder',\n            tolerance: 'pointer',\n            forcePlaceholderSize: true,\n            helper: 'clone',\n            axis: 'y',\n            update: () => {\n                this.showSaver();\n                $('ol.motionListWithinAgenda').trigger(\"antragsgruen:agenda-change\");\n            }\n        });\n        this.$agenda.find('.agendaItem').each((i, el) => {\n            this.prepareAgendaItem($(el));\n        });\n\n        this.prepareAgendaList(this.$agenda, true);\n\n\n        this.$agenda.on('click', '.agendaItemAdder .addEntry', this.agendaItemAdd.bind(this));\n        this.$agenda.on('click', '.agendaItemAdder .addDate', this.agendaDateAdd.bind(this));\n        this.$agenda.on('change', '.agendaItemAdder .showTimes input', this.showTimesChanges.bind(this));\n        this.$agenda.on('click', '.delAgendaItem', this.delAgendaItem.bind(this));\n        this.$agenda.on('click', '.editAgendaItem', this.editAgendaItem.bind(this));\n        this.$agenda.on('submit', '.agendaItemEditForm', this.submitSingleItemForm.bind(this));\n        this.$agenda.on('submit', '.agendaDateEditForm', this.submitSingleItemForm.bind(this));\n        this.$agendaform.on(\"submit\", this.submitCompleteForm.bind(this));\n    }\n\n    buildAgendaStruct($ol) {\n        let items = [];\n        $ol.children('.agendaItem').each((i, el) => {\n            const $li = $(el),\n                id = $li.attr('id').split('_');\n            if ($li.find('> div > .agendaDateEditForm').length > 0) {\n                let date = $li.find('> div > .agendaDateEditForm input[name=date]').val();\n                items.push({\n                    'type': 'date',\n                    'id': id[1],\n                    'date': moment(date, 'dddd, Do MMMM YYYY', this.locale).format('L'),\n                    'title': $li.find('> div > .agendaDateEditForm input[name=title]').val(),\n                    'children': this.buildAgendaStruct($li.find('> ol'))\n                });\n            } else {\n                const $form = $li.find('> div > .agendaItemEditForm');\n                let time = null;\n                if (this.$widget.find('.agendaItemAdder .showTimes input').prop(\"checked\")) {\n                    time = $li.find('> div > .agendaItemEditForm input[name=time]').val();\n                }\n                items.push({\n                    'type': 'std',\n                    'id': id[1],\n                    'time': time,\n                    'code': $form.find('input[name=code]').val(),\n                    'title': $form.find('input[name=title]').val(),\n                    'motionTypeId': $form.find('select[name=motionType]').val(),\n                    'inProposedProcedures': $form.find('.extraSettings input[name=inProposedProcedures]').prop('checked'),\n                    'children': this.buildAgendaStruct($li.find('> ol'))\n                });\n            }\n        });\n        return items;\n    }\n\n    submitDateItemForm(ev: Event) {\n        ev.preventDefault();\n        this.showSaver();\n\n        let $li = $(ev.target).parents('li.agendaItem').first(),\n            $form = $(ev.target),\n            newTitle = $form.find('input[name=title]').val() as string,\n            newDate = $form.find('input[name=date]').val() as string,\n            fullString = '';\n        if (newDate) {\n            fullString += newDate;\n        }\n        if (newDate && newTitle) {\n            fullString += ': ';\n        }\n        if (newTitle) {\n            fullString += newTitle;\n        }\n        $li.removeClass('editing');\n        $li.find('> div > h3 .title').text(fullString);\n        $('ol.motionListWithinAgenda').trigger(\"antragsgruen:agenda-change\");\n    }\n\n    submitSingleItemForm(ev: Event) {\n        ev.preventDefault();\n        this.showSaver();\n        let $li = $(ev.target).parents('li.agendaItem').first(),\n            $parentLi = $li.parents('li').first(),\n            position = $li.prevAll().length,\n            parentId = ($parentLi.length > 0 ? $parentLi.data('id') : null),\n            $form = $(ev.target),\n            saveUrl = $li.data('save-url') as string;\n\n        const saveData = {\n            'parentId': parentId,\n            'position': position,\n            'title': $form.find('input[name=title]').val() as string,\n        };\n\n        if ($li.hasClass('agendaItemDate')) {\n            saveData['type'] = 'date';\n            const date = ($form.find(\".date\") as any).datetimepicker(\"date\");\n            if (date) {\n                saveData['date'] = date.format(\"YYYY-MM-DD\");\n            } else {\n                saveData['date'] = null;\n            }\n        } else {\n            saveData['type'] = 'agendaItem';\n            saveData['inProposedProcedures'] = $form.find('input[name=inProposedProcedures]').prop('checked');\n            saveData['motionType'] = parseInt($form.find('select[name=motionType]').val() as string);\n            saveData['time'] = $form.find('input[name=time]').val() as string;\n            saveData['code'] = $form.find('input[name=code]').val() as string;\n        }\n\n        $.post(saveUrl, {\n            '_csrf': $('input[name=_csrf]').val(),\n            'data': JSON.stringify(saveData),\n        }, ret => {\n            if (!ret['success']) {\n                alert(\"Could not save: \" + ret['message']);\n                return;\n            }\n            const $newItem = $(ret['html']);\n            $li.replaceWith($newItem);\n            this.prepareAgendaItem($newItem);\n            $('ol.motionListWithinAgenda').trigger(\"antragsgruen:agenda-change\");\n        });\n    }\n\n    submitCompleteForm() {\n        let data = this.buildAgendaStruct($('.motionListWithinAgenda'));\n        this.$agendaform.find('input[name=data]').val(JSON.stringify(data));\n        $(window).off(\"beforeunload\", AgendaEdit.onLeavePage);\n    }\n\n    delAgendaItem(ev: Event) {\n        let $this = $(ev.target);\n        ev.preventDefault();\n        bootbox.confirm(__t(\"admin\", \"agendaDelEntryConfirm\"), (result) => {\n            if (result) {\n                this.showSaver();\n                $this.parents('li.agendaItem').first().remove();\n                $('ol.motionListWithinAgenda').trigger(\"antragsgruen:agenda-change\");\n            }\n        });\n    }\n\n    editAgendaItem(ev: Event) {\n        ev.preventDefault();\n        this.showSaver();\n        let $li = $(ev.target).parents('li.agendaItem').first();\n        $li.addClass('editing');\n        $li.find('> div > .agendaItemEditForm input[name=code]').trigger(\"focus\").trigger(\"select\");\n    }\n\n    agendaItemAdd(ev: Event) {\n        ev.preventDefault();\n        this.showSaver();\n        let $newElement = $($('#agendaNewElementTemplate').val() as string),\n            $adder = $(ev.target).parents('.agendaItemAdder').first();\n        $adder.before($newElement);\n        this.prepareAgendaItem($newElement);\n        $newElement.find('.editAgendaItem').trigger('click');\n        $newElement.find('.agendaItemEditForm input.code').trigger(\"focus\");\n    }\n\n    agendaDateAdd(ev: Event) {\n        ev.preventDefault();\n        this.showSaver();\n        let $newElement = $($('#agendaNewDateTemplate').val() as string),\n            $adder = $(ev.target).parents('.agendaItemAdder').first();\n        $adder.before($newElement);\n        this.prepareAgendaItem($newElement);\n        $newElement.find('.editAgendaItem').trigger('click');\n    }\n\n    showTimesChanges() {\n        if (this.$widget.find('.agendaItemAdder .showTimes input').prop(\"checked\")) {\n            this.$agenda.addClass('showTimes').removeClass('noShowTimes');\n        } else {\n            this.$agenda.removeClass('showTimes').addClass('noShowTimes');\n        }\n    }\n\n    prepareAgendaItem($item) {\n        $item.find('> div').prepend('<span class=\"glyphicon glyphicon-resize-vertical moveHandle\"></span>');\n        $item.find('> div > h3').append('<a href=\"#\" class=\"editAgendaItem\"><span class=\"glyphicon glyphicon-pencil\"></span></a>');\n        $item.find('> div > h3').append(this.delAgendaItemStr);\n        $item.find('> div li.checkbox').on('click', (ev) => {\n            ev.stopPropagation();\n        });\n\n        $item.find('> ol.agenda').each((i, el) => {\n            this.prepareAgendaList($(el), false);\n        });\n\n        $item.find(\"> div .input-group.time\").datetimepicker({\n            locale: this.locale,\n            format: 'LT'\n        });\n\n        $item.find(\"> div .input-group.date\").each((i, el) => {\n            let preDate = null;\n            if ($(el).data(\"date\")) {\n                preDate = moment($(el).data(\"date\"), \"YYYY-MM-DD\", this.locale);\n            }\n            $(el).datetimepicker({\n                locale: this.locale,\n                format: 'dddd, Do MMMM YYYY',\n                defaultDate: preDate\n            });\n        });\n    }\n\n    prepareAgendaList($list, full: boolean) {\n        let str = '<li class=\"agendaItemAdder mjs-nestedSortable-no-nesting mjs-nestedSortable-disabled\">' +\n            '<a href=\"#\" class=\"addEntry\"><span class=\"glyphicon glyphicon-plus-sign\"></span> ' + __t('admin', 'agendaAddEntry') + '</a>';\n        if (full) {\n            str += '<a href=\"#\" class=\"addDate\"><span class=\"glyphicon glyphicon-plus-sign\"></span> ' + __t('admin', 'agendaAddDate') + '</a>' +\n                '<span class=\"spacer\"></span>' +\n            '<label class=\"showTimes\"><input type=\"checkbox\" class=\"showTimes\"> ' + __t('admin', 'agendaShowTimes') + '</label>';\n        }\n        str += '</li>';\n        const $el = $(str);\n        if (this.$agenda.hasClass('showTimes')) {\n            $el.find(\".showTimes input\").prop(\"checked\", true);\n        }\n        $list.append($el);\n    }\n\n    showSaver() {\n        $('#agendaEditSavingHolder').removeClass(\"hidden\");\n        this.hasChanged = true;\n        if (!$(\"body\").hasClass('testing')) {\n            $(window).on(\"beforeunload\", AgendaEdit.onLeavePage);\n        }\n    }\n\n    public static onLeavePage(): string {\n        return __t(\"std\", \"leave_changed_page\");\n    }\n}\n"]}