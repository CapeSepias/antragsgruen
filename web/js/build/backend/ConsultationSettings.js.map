{"version":3,"sources":["backend/ConsultationSettings.ts"],"names":["ConsultationSettings","$form","this","initUrlPath","initTags","initOrganisations","initAdminMayEdit","initSingleMotionMode","$","tooltip","prototype","on","ev","preventDefault","addClass","removeClass","prop","trigger","$adminsMayEdit","$iniatorsMayEdit","parents","first","parent","confirmMessage","__t","bootbox","confirm","result","find","selectize","create","plugins","exports"],"mappings":"uIAEA,IAAAA,EAAA,WACI,SAAAA,EAAoBC,GAAAC,KAAAD,MAAAA,EAChBC,KAAKC,cACLD,KAAKE,WACLF,KAAKG,oBACLH,KAAKI,mBACLJ,KAAKK,uBAELC,EAAE,2BAA2BC,UAmDrC,OAhDYT,EAAAU,UAAAP,YAAR,WACIK,EAAE,4BAA4BG,GAAG,QAAS,SAACC,GACvCA,EAAGC,iBACHL,EAAE,0BAA0BM,SAAS,UACrCN,EAAE,0BAA0BO,YAAY,aAIxCf,EAAAU,UAAAH,qBAAR,WACIC,EAAE,qBAAqBG,GAAG,SAAU,WAC5BH,EAAEN,MAAMc,KAAK,WACbR,EAAE,mBAAmBO,YAAY,UAEjCP,EAAE,mBAAmBM,SAAS,YAEnCG,QAAQ,WAGPjB,EAAAU,UAAAJ,iBAAR,WACI,IAAIY,EAAiBV,EAAE,kBACnBW,EAAmBX,EAAE,oBAAoBY,QAAQ,SAASC,QAAQC,SACtEJ,EAAeP,GAAG,SAAU,WACxB,GAAIH,EAAEN,MAAMc,KAAK,WACbG,EAAiBJ,YAAY,cAC1B,CACH,IAAIQ,EAAiBC,IAAI,QAAS,uBAClCC,QAAQC,QAAQH,EAAgB,SAAUI,GAClCA,GACAR,EAAiBL,SAAS,UAC1BK,EAAiBS,KAAK,SAASZ,KAAK,WAAW,IAE/CE,EAAeF,KAAK,WAAW,QAK1CE,EAAeF,KAAK,YAAYG,EAAiBL,SAAS,WAG3Dd,EAAAU,UAAAN,SAAR,WAC0BF,KAAKD,MAAM2B,KAAK,oBAC7BC,UAAU,CAACC,QAAQ,EAAMC,QAAS,CAAC,oBAGxC/B,EAAAU,UAAAL,kBAAR,WAC0BH,KAAKD,MAAM2B,KAAK,4BAC7BC,UAAU,CAACC,QAAQ,EAAMC,QAAS,CAAC,oBAEpD/B,EA3DA,GAAagC,EAAAhC,qBAAAA","file":"ConsultationSettings.js","sourcesContent":["/// <reference path=\"../typings/fuelux/index.d.ts\" />\n\nexport class ConsultationSettings {\n    constructor(private $form: JQuery) {\n        this.initUrlPath();\n        this.initTags();\n        this.initOrganisations();\n        this.initAdminMayEdit();\n        this.initSingleMotionMode();\n\n        $('[data-toggle=\"tooltip\"]').tooltip();\n    }\n\n    private initUrlPath() {\n        $('.urlPathHolder .shower a').on(\"click\", (ev) => {\n            ev.preventDefault();\n            $('.urlPathHolder .shower').addClass('hidden');\n            $('.urlPathHolder .holder').removeClass('hidden');\n        });\n    }\n\n    private initSingleMotionMode() {\n        $(\"#singleMotionMode\").on(\"change\", function () {\n            if ($(this).prop(\"checked\")) {\n                $(\"#forceMotionRow\").removeClass(\"hidden\");\n            } else {\n                $(\"#forceMotionRow\").addClass(\"hidden\");\n            }\n        }).trigger(\"change\");\n    }\n\n    private initAdminMayEdit() {\n        let $adminsMayEdit = $(\"#adminsMayEdit\"),\n            $iniatorsMayEdit = $(\"#iniatorsMayEdit\").parents(\"label\").first().parent();\n        $adminsMayEdit.on(\"change\", function () {\n            if ($(this).prop(\"checked\")) {\n                $iniatorsMayEdit.removeClass(\"hidden\");\n            } else {\n                let confirmMessage = __t(\"admin\", \"adminMayEditConfirm\");\n                bootbox.confirm(confirmMessage, function (result) {\n                    if (result) {\n                        $iniatorsMayEdit.addClass(\"hidden\");\n                        $iniatorsMayEdit.find(\"input\").prop(\"checked\", false);\n                    } else {\n                        $adminsMayEdit.prop(\"checked\", true);\n                    }\n                });\n            }\n        });\n        if (!$adminsMayEdit.prop(\"checked\")) $iniatorsMayEdit.addClass(\"hidden\");\n    }\n\n    private initTags() {\n        const $tagList: any = this.$form.find(\"#tagsList select\");\n        $tagList.selectize({create: true, plugins: [\"remove_button\"]})\n    }\n\n    private initOrganisations() {\n        const $tagList: any = this.$form.find(\"#organisationList select\");\n        $tagList.selectize({create: true, plugins: [\"remove_button\"]})\n    }\n}\n"]}