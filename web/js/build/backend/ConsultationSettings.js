define(["require","exports"],function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(t){this.$form=t,this.initUrlPath(),this.initTags(),this.initOrganisations(),this.initAdminMayEdit(),this.initSingleMotionMode(),$('[data-toggle="tooltip"]').tooltip()}return t.prototype.initUrlPath=function(){$(".urlPathHolder .shower a").on("click",function(t){t.preventDefault(),$(".urlPathHolder .shower").addClass("hidden"),$(".urlPathHolder .holder").removeClass("hidden")})},t.prototype.initSingleMotionMode=function(){$("#singleMotionMode").on("change",function(){$(this).prop("checked")?$("#forceMotionRow").removeClass("hidden"):$("#forceMotionRow").addClass("hidden")}).trigger("change")},t.prototype.initAdminMayEdit=function(){var i=$("#adminsMayEdit"),e=$("#iniatorsMayEdit").parents("label").first().parent();i.on("change",function(){if($(this).prop("checked"))e.removeClass("hidden");else{var t=__t("admin","adminMayEditConfirm");bootbox.confirm(t,function(t){t?(e.addClass("hidden"),e.find("input").prop("checked",!1)):i.prop("checked",!0)})}}),i.prop("checked")||e.addClass("hidden")},t.prototype.htmlEntityDecode=function(t){var i=document.createElement("div");return i.innerHTML=t,i.innerText},t.prototype.initTags=function(){var a=this;this.$form.on("submit",function(){var t,i=$("#tagsList").pillbox("items"),e=[],n=$('<input type="hidden" name="tags">');for(t=0;t<i.length;t++){var o=a.htmlEntityDecode(i[t].text);void 0===i[t].id?e.push({id:0,name:o}):e.push({id:i[t].id,name:o})}n.attr("value",JSON.stringify(e)),a.$form.append(n)}),Sortable.create(document.getElementById("tagsListUl"),{draggable:".pill"})},t.prototype.initOrganisations=function(){var o=this;this.$form.on("submit",function(){var t,i=$("#organisationList").pillbox("items"),e=[],n=$('<input type="hidden" name="organisations">');for(t=0;t<i.length;t++)e.push(o.htmlEntityDecode(i[t].text));n.attr("value",JSON.stringify(e)),o.$form.append(n)}),Sortable.create(document.getElementById("organisationListUl"),{draggable:".pill"})},t}();i.ConsultationSettings=e});
//# sourceMappingURL=ConsultationSettings.js.map
