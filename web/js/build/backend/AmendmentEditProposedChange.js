define(["require","exports","../shared/AntragsgruenEditor"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(e){this.$form=e,this.hasChanged=!1,this.textEditCalled(),e.on("submit",function(){$(window).off("beforeunload",t.onLeavePage)})}return t.prototype.textEditCalled=function(){var t=this;$(".wysiwyg-textarea:not(#sectionHolderEditorial)").each(function(e,a){var i=$(a).find(".texteditor"),o=new n.AntragsgruenEditor(i.attr("id")).getEditor();i.parents("form").submit(function(){i.parent().find("textarea.raw").val(o.getData()),void 0!==o.plugins.lite&&(o.plugins.lite.findPlugin(o).acceptAll(),i.parent().find("textarea.consolidated").val(o.getData()))}),$("#"+i.attr("id")).on("keypress",t.onContentChanged.bind(t))}),this.$form.find(".resetText").click(function(t){var e=$(t.currentTarget).parents(".wysiwyg-textarea").find(".texteditor");window.CKEDITOR.instances[e.attr("id")].setData(e.data("original-html")),$(t.currentTarget).parents(".modifiedActions").addClass("hidden")})},t.onLeavePage=function(){return __t("std","leave_changed_page")},t.prototype.onContentChanged=function(){this.hasChanged||(this.hasChanged=!0,$("body").hasClass("testing")||$(window).on("beforeunload",t.onLeavePage))},t}();e.AmendmentEditProposedChange=a});
//# sourceMappingURL=AmendmentEditProposedChange.js.map
