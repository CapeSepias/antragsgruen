{"version":3,"sources":["backend/AdminIndex.ts"],"names":["AdminIndex","this","initDelSite","initUpdates","prototype","$delForm","$","find","click","ev","preventDefault","$button","bootbox","confirm","__t","result","$input","attr","append","submit","$updateWidget","get","data","console","log","html"],"mappings":"AAEA,IAAAA,WAAA,WACI,SAAAA,IACIC,KAAKC,cACLD,KAAKE,cAyBb,OAtBYH,EAAAI,UAAAF,YAAR,WACI,IAAIG,EAAWC,EAAE,kBACjBD,EAASE,KAAK,UAAUC,MAAM,SAAUC,GACpCA,EAAGC,iBACH,IAAIC,EAAUL,EAAEL,MAChBW,QAAQC,QAAQC,IAAI,QAAS,qBAAsB,SAAUC,GACzD,GAAIA,EAAQ,CACR,IAAIC,EAASV,EAAE,yBAAyBW,KAAK,OAAQN,EAAQM,KAAK,SAASA,KAAK,QAASN,EAAQM,KAAK,UACtGZ,EAASa,OAAOF,GAChBX,EAASc,eAMjBnB,EAAAI,UAAAD,YAAR,WACI,IAAIiB,EAAgBd,EAAE,0BACtBA,EAAEe,IAAID,EAAcE,KAAK,OAAQ,SAASA,GACtCC,QAAQC,IAAIF,GACZF,EAAcK,KAAKH,MAG/BtB,EA5BA,GA8BA,IAAIA","file":"AdminIndex.js","sourcesContent":["declare let __t: any;\n\nclass AdminIndex {\n    constructor() {\n        this.initDelSite();\n        this.initUpdates();\n    }\n\n    private initDelSite() {\n        let $delForm = $(\".delSiteCaller\");\n        $delForm.find(\"button\").click(function (ev) {\n            ev.preventDefault();\n            let $button = $(this);\n            bootbox.confirm(__t('admin', 'consDeleteConfirm'), function (result) {\n                if (result) {\n                    let $input = $('<input type=\"hidden\">').attr(\"name\", $button.attr(\"name\")).attr(\"value\", $button.attr(\"value\"));\n                    $delForm.append($input);\n                    $delForm.submit();\n                }\n            });\n        });\n    }\n\n    private initUpdates() {\n        let $updateWidget = $(\".adminCardUpdates main\");\n        $.get($updateWidget.data(\"src\"), function(data) {\n            console.log(data);\n            $updateWidget.html(data);\n        });\n    }\n}\n\nnew AdminIndex();\n"]}