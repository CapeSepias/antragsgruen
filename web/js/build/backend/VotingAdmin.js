define(["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VotingAdmin=void 0;e.VotingAdmin=class{constructor(t){this.$element=t;const e=this.$element.find(".votingAdmin")[0],s=t.data("voting"),n=t.data("url-vote-settings");console.log(n);const o={votings:s,csrf:$("head").find("meta[name=csrf-token]").attr("content")};this.widget=new Vue({el:e,template:'<div class="adminVotings">\n                <voting-admin-widget v-for="voting in votings"\n                                     :voting="voting"\n                                     @set-status="setStatus"\n                ></voting-admin-widget>\n            </div>',data:o,methods:{_performOperation:function(t,e,s,o){let i={_csrf:this.csrf};o&&(i=Object.assign(i,o));const c=this,a=n.replace(/VOTINGBLOCKID/,t).replace(/ITEMTYPE/,e).replace(/ITEMID/,s);console.log(a),$.post(a,i,(function(t){console.log(void 0!==t.success,!t.success),void 0===t.success||t.success?(c.votings=t,console.log("returned",t)):alert(t.message)})).catch((function(t){alert(t.responseText)}))},setStatus(t,e,s,n){console.log(arguments),this._performOperation(t,e,s,{status:n})}}})}}}));
//# sourceMappingURL=VotingAdmin.js.map
